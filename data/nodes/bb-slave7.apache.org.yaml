---
classes:
  - loggy
  - buildbot_node
  - buildbot_node::cpan
  - buildbot_node::rat
  - rvm

buildbot_node::slave_name: 'bb_slave7_ubuntu'

buildbot_node::required_packages:
  - 'build-essential'
  - 'libaprutil1-dbd-sqlite3'
  - 'libaprutil1-ldap'
  - 'liblua5.3-dev'
  - 'libpcre3-dev'
  - 'libpcre2-dev'
  - 'libsystemd-dev'
  - 'libxml2-dev'
  - 'zlib1g-dev'
  - 'graphviz'
  - 'graphviz-dev'
  - 'libtool'
  - 'libpcre3'
  - 'libpcre3-dev'
  - 'tomcat7'
  - 'ruby2.0'
  - 'ruby2.0-dev'

buildbot_node::cpan::cpan_modules: 
- 'AnyEvent'
- 'Crypt::SSLeay'
- 'DateTime'
- 'Devel::CoreStack'
- 'Devel::Symdump'
- 'Digest::MD5'
- 'HTML::HeadParser'
- 'HTML::Parser'
- 'HTML::Tagset'
- 'HTTP::DAV'
- 'IO::Socket::SSL'
- 'IPC::Run3'
- 'LWP'
- 'LWP::Protocol::https'
- 'MIME::Base64'
- 'Net::Cmd'
- 'Net::SSLeay'
- 'Protocol::HTTP2::Client'
- 'Test::Harness'
- 'URI'

buildbot_node::rat::projects:
  - 'jmeter'

python::python_pips:
  mkdocs:
    ensure: present
  pelican:
    ensure: present
  markdown:
    ensure: present
  py-gfm:
    ensure: present
  beautifulsoup4:
    ensure: present

ruby_version: '2.4.6'

rvm::system_rubies:
  "ruby-%{hiera('ruby_version')}": {}

rvm::system_users:
  - buildnode

rvm::rvm_gems:
  'jekyll':
    name: 'jekyll'
    ruby_version: "ruby-%{hiera('ruby_version')}"
    ensure: latest

